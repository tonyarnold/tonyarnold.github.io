<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tips for mac-hosted virtual machines - Tony Arnold</title>
    <meta name="author" content="Tony Arnold" />
    <meta name="description" content="The blog of Tony Arnold" />
    <link rel="canonical" href="https://tonyarnold.com/2007/05/06/tips-for-mac-hosted-virtual-machines.html" />
    <link rel="shortcut icon" href="/favicon.gif">
    <link rel="alternate" type="application/rss+xml" title="Tony Arnold" href="https://tonyarnold.com/atom.xml" />
    <link rel="stylesheet" href="/assets/fonts/fira/fira.css">
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/screen.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>

<body>
    <div class="container">
        <div class="four columns sidebar">
<nav>
  <h1><a href="/">Hi.</a></h1>
  <h2>I'm <a href="/about/">Tony Arnold</a>.</h2>
  <hr>
  <ul>
  <p>Spreading code and joy.</p>
  <hr>
  <div>
    <div id="social">
      <div id="stalker">
  
  <a rel="me" title="tonyarnold on Github" href="https://github.com/tonyarnold">
    <i class="fa-brands fa-github-square"></i>
  </a>
  
  
  <a rel="me" title="Tony Arnold on Mastodon" href="https://mastodon.social/@tonyarnold">
    <i class="fa-brands fa-mastodon"></i>
  </a>
  
  
  
  
  
  
  
  
  <a title="RSS feed" id="rss" href="/atom.xml">
    <i class="fa fa-rss-square"></i>
  </a>
</div>

    </div>
  </div>
  </ul>
</nav>
</div>
        <div class="eleven columns content">
<p class="meta">
  May 06, 2007
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">

  Tips for mac-hosted virtual machines

</h1>

<div id="post">
  <p>So you’ve just finished downloading, installing and setting up a shiny new virtual machine using either <a href="http://www.parallels.com/en/products/desktop/">Parallels Desktop for Mac</a>, or <a href="http://vmware.com/mac/">VMware Fusion</a>. What’s that you say? Your machine is now really slow? It freezes for seconds at a time?</p>

<p>Well, that’s to be expected - you are effectively running two operating systems on your mac now. Keep that statement in mind, because my tips can’t do anything about that. <strong>Your machine will be slower whilst running a virtual machine</strong>. Don’t despair - we should be able to make things a little more responsive.</p>

<p>I look after a Mac Pro, an iMac and a MacBook Pro that have all been running Windows-based virtual machines for the past year without major issue - along the way, I’ve found a few tips that have made the virtual machines and my macs run a lot faster than they otherwise would have.</p>

<p>I’ll cover off three things below:</p>

<ul>
  <li>General tips for making your virtual machines faster;</li>
  <li>Tips for <a href="http://www.parallels.com/en/products/desktop/">Parallels Desktop for Mac</a>;</li>
  <li>Tips for <a href="http://vmware.com/mac/">VMware Fusion</a>;</li>
</ul>

<h4 id="general-tips-for-making-your-virtual-machines-faster">General tips for making your virtual machines faster</h4>

<ol>
  <li>
<strong>Buy as much RAM as you can afford</strong>. Seriously - more RAM means that your virtual machines won’t have to page out to disk as much, your mac will remain more responsive and your life will generally be much happier (OK, perhaps that last bit is going too far) - obviously CPU speed is important too, but you won’t see anywhere near the same improvement as just adding more RAM;</li>
  <li>
<strong>The main speed decrease you’ll see when running a virtual machine comes from disk throughput</strong>. Your hard disk will churn and thrash much more than it does when you’re just running Mac OS X on its own - but you can do a couple of things to help that:
    <ul>
      <li>Dynamically expanding disks are good in most circumstances - especially for users without huge amount of disk space, but they shouldn’t be used in any situation where disk speed is essential. Each time the dynamically expanding disk reaches it’s bounds (the size of the space it has allocated itself), it needs to allocate more space which will cause the virtual machine to pause slightly;</li>
      <li>If you intend to host a server, or run applications that will cause either operating system to use more virtual memory, my experience has been that creating a separate, statically allocated virtual disk (a disk that doesn’t dynamically expand) and moving your guest operating system’s swap or pagefile to that. I generally make mine 5Gb in size, and tell my windows guests to create a pagefile between 1024 - 4096 Mb - this means your disk will thrash a little when you first start your virtual machine, but once it’s running you’ll find things to be smoother;</li>
      <li>Always, always, always run your virtual machines off a separate disk if you have a slower drive in your mac. My MacBook Pro is much more responsive on the mac side when it doesn’t need to compete with an entire other operating system sucking up it’s hard disk cycles. I run my virtual machines off of firewire disks, as firewire is generally much faster that USB 2.0 for purposes such as this;</li>
    </ul>
  </li>
  <li>
<strong>Visit the forums for your product</strong>. For Parallels Desktop for Mac, the address is <a href="">http://forum.parallels.com/</a>. For VMware Fusion, the address is <a href="">http://communities.vmware.com/community/vmtn/desktop/fusion</a>;</li>
</ol>

<h4 id="tips-for-parallels-desktop-for-mac">Tips for Parallels Desktop for Mac</h4>

<ol>
  <li>In general, Parallels Desktop’s default setting are pretty good already - you shouldn’t need to change them too much;</li>
  <li>Ensure that your Virtual Machine’s cache policy is set to “<strong>Mac OS X</strong>” on slower disks (you can find this in your virtual machine’s settings under “<em>Options &gt; Advanced &gt; Cache policy</em>”. Setting it to “<strong>Virtual machine</strong>” over “<strong>Mac OS X</strong>” will mean that your guest operating systems get priority access to your hard disks. Given that the guests will only ever be as fast as your mac can go, I personally find no use for the “<strong>Virtual machine</strong>” option;</li>
  <li>If you don’t need sound, remove the sound device (or at least set the sound input device to null) - there seems to be slow down when this is enabled (I’m not sure whether it is a bug - I’ll update this post when I know);</li>
</ol>

<h4 id="tips-for-vmware-fusion">Tips for VMware Fusion</h4>

<ol>
  <li>
<strong>Always use the latest version of Fusion available</strong>. Fusion’s performance has gotten much, much better since the beta, and the 1.1 release screams;</li>
  <li>
<strong>Always use SCSI disks with Fusion</strong> - IDE disks are (at this stage) much, much slower than their SCSI counterparts. Windows XP doesn’t support SCSI disks out of the box, so please be sure to use Fusion’s easy installer - this will set-up your Windows-based virtual machines to use SCSI disks without any mucking around;</li>
  <li>Unless you have a multi-CPU Mac Pro monster, allowing your virtual machines to virtualise more than one CPU will just slow things down. <strong>That means you Core Duo and Core 2 Duo users - it sounds cool to have 2 CPUs under your guest, but you’ll get better performance without them</strong>;</li>
  <li>Generally speaking, modifying your graphics settings in Fusion don’t impact performance - if you need Direct X 8 compatibility, turn it on. If you don’t - well, it doesn’t really seem to do anything to performance, so you might as well leave it off until you need it;</li>
</ol>


  
</div>

<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
    <li>
      <span>11 Jul 2018 »</span> <a href="/2018/07/11/gyb-xcode-integration.html">Integrating GYB with Xcode</a>
    </li>
    
    <li>
      <span>20 Apr 2016 »</span> <a href="/2016/04/20/xcode-build-duration.html">How to show the duration of builds in Xcode</a>
    </li>
    
    <li>
      <span>04 Feb 2015 »</span> <a href="/2015/02/04/revealution.html">Reveal 1.5</a>
    </li>
    
  </ul>
</div>

            <div class="footer">
<div class="disclaimer">
  

  <p>© Tony Arnold, 2023 — built with <a href="http://jekyllrb.com" rel="external">Jekyll</a> using the <a href="https://github.com/swanson/lagom" rel="external">Lagom theme</a>. Last updated on 27 Jul 2023.</p>
</div>
</div>
        </div>
    </div>
    

</body>

</html>
